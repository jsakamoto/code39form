var Code39Form;!function(t){function n(t){var n=$("div[data-line-id="+t.id+"]");$(".barcode-image",n).html("").barcode(t.text,"code39",{barWidth:3,showHRI:!1}),$(".human-readable .content",n).text(t.text)}function e(){$(".remove-input-line").toggleClass("disabled",a.length<2)}function i(t){$("#barcode-input-"+t).focus()}var o=1==("undefined"!=typeof localStorage)?{get:function(t){return localStorage.getItem(t)},put:function(t,n){return localStorage.setItem(t,n)}}:{get:function(t){return $.cookie(t)},put:function(t,n){return $.cookie(t,n)}},r=o.get("inputLines")||'[{"id":1,"text":""}]',a=JSON.parse(r),u=$(".input-lines-container"),l=$("#line-template").html(),c=Handlebars.compile(l);a.forEach(function(t){var e=c(t);u.append(e),n(t)});var d=-1!=window.navigator.userAgent.split(/[ ,/;:()]/).indexOf("Kindle");$(document.body).toggleClass("print-disabled",d),e();var p=location.hostname.match(/^([^.]+)\.github\.io$/i);if(null!=p){var s="https://github.com/"+p[1]+"/"+location.pathname.split("/").filter(function(t){return""!=t}).shift(),f=$("#repository-info-template").html(),m=Handlebars.compile(f)({repositoryUrl:s});$(".repository-info").html(m)}$(document).on("click",".add-input-line",function(){var t=a.map(function(t){return t.id}).reduce(function(t,n){return Math.max(t,n)})+1,n={id:t,text:""},r=c(n);u.append(r),a.push(n),o.put("inputLines",JSON.stringify(a)),e(),i(t)}),$(document).on("click",".remove-input-line:not(.disabled)",function(t){var n=$(t.target).closest(".input-line"),r=n.data("line-id");if(!($(".input-line").length<2))if(confirm("Are you sure?")){n.remove();var u=a.filter(function(t){return t.id==r}).pop(),l=a.indexOf(u);a.splice(l,1),o.put("inputLines",JSON.stringify(a)),e(),i((a[l]||a[a.length-1]).id)}else i(r)}),$(document).on("change keydown paste",".input-line .control input:text",function(t){var e=$(t.target).closest(".input-line").data("line-id"),i=t.target;setTimeout(function(){var t=i.value.toUpperCase(),r=a.filter(function(t){return t.id==e}).pop();void 0!=r&&r.text!=t&&(r.text=t,n(r),o.put("inputLines",JSON.stringify(a)))},0)}),$(document).on("click",".print",function(){window.print()}),window.onerror=function(t,n,e,i,o){o=o||{message:t,stack:(n||"- unknown souce file -")+"("+e+":"+i+")"},alert(o)}}(Code39Form||(Code39Form={}));
//# sourceMappingURL=index.min.js.map
