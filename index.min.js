var Code39Form;!function(t){function e(t){var e=$("div[data-line-id="+t.id+"]");$(".barcode-image",e).html("").barcode(t.text,"code39",{barWidth:3,showHRI:!1}),$(".human-readable .content",e).text(t.text)}function n(){$(".remove-input-line").toggleClass("disabled",a.length<2)}function i(t){$("#barcode-input-"+t).focus()}var o=1==("undefined"!=typeof localStorage)?{get:function(t){return localStorage.getItem(t)},put:function(t,e){return localStorage.setItem(t,e)}}:{get:function(t){return $.cookie(t)},put:function(t,e){return $.cookie(t,e)}},r=o.get("inputLines")||'[{"id":1,"text":""}]',a=JSON.parse(r),u=$(".input-lines-container"),l=$("#line-template").html(),c=Handlebars.compile(l);a.forEach(function(t){var n=c(t);u.append(n),e(t)}),n();var p=location.hostname.match(/^([^.]+)\.github\.io$/i);if(null!=p){var d="https://github.com/"+p[1]+"/"+location.pathname.split("/").filter(function(t){return""!=t}).shift(),s=$("#repository-info-template").html(),f=Handlebars.compile(s)({repositoryUrl:d});$(".repository-info").html(f)}$(document).on("click",".add-input-line",function(){var t=a.map(function(t){return t.id}).reduce(function(t,e){return Math.max(t,e)})+1,e={id:t,text:""},r=c(e);u.append(r),a.push(e),o.put("inputLines",JSON.stringify(a)),n(),i(t)}),$(document).on("click",".remove-input-line:not(.disabled)",function(t){var e=$(t.target).closest(".input-line"),r=e.data("line-id");if(!($(".input-line").length<2))if(confirm("Are you sure?")){e.remove();var u=a.filter(function(t){return t.id==r}).pop(),l=a.indexOf(u);a.splice(l,1),o.put("inputLines",JSON.stringify(a)),n(),i((a[l]||a[a.length-1]).id)}else i(r)}),$(document).on("change keydown paste",".input-line .control input:text",function(t){var n=$(t.target).closest(".input-line").data("line-id"),i=t.target;setTimeout(function(){var t=i.value.toUpperCase(),r=a.filter(function(t){return t.id==n}).pop();void 0!=r&&r.text!=t&&(r.text=t,e(r),o.put("inputLines",JSON.stringify(a)))},0)}),window.onerror=function(t,e,n,i,o){o=o||{message:t,stack:(e||"- unknown souce file -")+"("+n+":"+i+")"},alert(o)}}(Code39Form||(Code39Form={}));
//# sourceMappingURL=index.min.js.map
